
CREATE DATABASE VENTAS_55567;
GO


USE VENTAS_55567;
GO


CREATE TABLE CLIENTE
( 
	IDCLIENTE            integer  NOT NULL ,
	NOMCLIENTE           varchar(100)  NOT NULL ,
	CONSTRAINT XPKCLIENTE PRIMARY KEY (IDCLIENTE ASC)
)
go



CREATE TABLE PEDIDO
( 
	IDPEDIDO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	IDCLIENTE            integer  NOT NULL ,
	CONSTRAINT XPKPEDIDO PRIMARY KEY (IDPEDIDO ASC),
	CONSTRAINT R_1 FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTE(IDCLIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE PRODUCTO
( 
	IDPRODUCTO           integer  NOT NULL ,
	NOMPRODUCTO          varchar(100)  NOT NULL ,
	CONSTRAINT XPKPRODUCTO PRIMARY KEY (IDPRODUCTO ASC)
)
go



CREATE TABLE DETALLE_PEDIDO
( 
	IDPEDIDO             integer  NOT NULL ,
	IDPRODUCTO           integer  NOT NULL ,
	CANTIDAD             integer  NOT NULL ,
	CONSTRAINT XPKDETALLE_PEDIDO PRIMARY KEY (IDPEDIDO ASC,IDPRODUCTO ASC),
	CONSTRAINT R_2 FOREIGN KEY (IDPEDIDO) REFERENCES PEDIDO(IDPEDIDO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT R_3 FOREIGN KEY (IDPRODUCTO) REFERENCES PRODUCTO(IDPRODUCTO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


